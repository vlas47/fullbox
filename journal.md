# Журнал работ

## 2025-12-19
- SKU: добавлены стрелки сортировки в заголовках, серверная сортировка; выпадающие фильтры по ключевым полям; живые подсказки поиска; сохранение состояния между таблицей и карточками; вертикальные границы ячеек.
- Залито на сервер (шаблоны/вью), пуш в GitHub `git@github.com:vlas47/fullbox.git` (ветка main) с действующим ключом `~/.ssh/id_ed25519`.

## 2025-12-17
- Создано виртуальное окружение `.venv` и установлен Django 6.0.
- Сгенерирован SSH-ключ `~/.ssh/fullbox_root` для доступа к серверу.
- Добавлен публичный ключ в `~/.ssh/authorized_keys` на `root@95.163.227.182`.
- Проверено подключение к серверу по ключу.
- На сервере создана папка `/opt/fullbox`, развернут проект и зависимости установлены в `/opt/fullbox/.venv`.
- Выполнены миграции на сервере (`/opt/fullbox/fullbox/manage.py migrate`).
- Сервер очищен и подготовлен: установлены пакеты (python3-venv, pip, curl, PostgreSQL 16, libpq-dev).
- Созданы роль и база PostgreSQL (`fullbox`/`fullbox`, пароль `fullbox_db_pass`).
- На сервере развернута обновлённая версия проекта в `/opt/fullbox` с зависимостями из `requirements.txt` (psycopg добавлен).
- Применены миграции с подключением к PostgreSQL через переменные окружения `.env`.
- Запущена тестовая страница через `runserver` и проверена доступность (`curl http://127.0.0.1:8000/`).
- Добавлены переменные окружения для домена `kondelyabr.ru` (`ALLOWED_HOSTS`) и отключён DEBUG в `.env`; проверка `https://kondelyabr.ru/` возвращает страницу без ошибки DisallowedHost.
- Создано приложение `sku`: модели SKU, штрихкоды, фото, привязки к маркетплейсам; админ-интерфейс.
- Добавлена страница списка SKU `/sku/` (поиск по артикулу/названию/ШК).
- Миграции `sku` применены на сервере; `runserver` перезапущен.
- Добавлена главная страница (landing) с промо услуг фулфилмента в стиле Lamborghini; маршрут '/' подключён.
- Создано приложение `orders` с вкладками (Журнал, Приемка, Обработка, Отгрузка, Прочее, На главную); страница `/orders/` по умолчанию показывает Журнал.
- Создано приложение `employees` с ролью выбора (администратор, директор, бухгалтер, главный менеджер, менеджер, кладовщик, сборщик); модель зарегистрирована в админке.
- Миграция employees применена на сервере, runserver перезапущен.
- В роли сотрудников добавлен 'Разработчик'; миграция employees применена на сервере, сервис перезапущен.
- Добавлен dev login-menu `/login-menu/` (стиль Lamborghini) с кнопками для быстрого входа пользователями ролей; маршруты `login-menu` и `dev-login/<username>/` настроены.
- Панель разработчика вынесена в отдельную страницу `/dev/`; блок убран с главной. Быстрые ссылки: dev вход, SKU, заявки, сотрудники, админка.
- Добавлены кабинеты для ролей: /cabinet/<role>/ (директор, бухгалтер, главный менеджер, менеджер, кладовщик, сборщик, разработчик и др.); dev-login перенаправляет на нужный кабинет, админ — в /admin/, developer — в /dev/.
- Обновлена страница SKU `/sku/` в стиле сайта: переключатель Таблица/Карточки, сохранение поиска, карточный вид с ВГХ/ШК/фото.
