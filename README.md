# Fullbox

Внутренний портал фулфилмента/склада для задач, заявок и номенклатуры. Проект построен на Django и покрывает ключевые процессы: номенклатура, заявки, аудит и рабочие кабинеты сотрудников.

## Основные возможности
- Номенклатура SKU: каталог, поиск по артикулу/названию/ШК, карточный и табличный режимы.
- Заявки: единый раздел `/orders/` с вкладками; форма приемки (A2.2) с таблицей позиций, документами и комментарием.
- Задачи: постановка задач сотрудникам с наблюдателями, доска по срокам (Просрочены/Сегодня/Скоро), детальная карточка с комментариями и файлами.
- Кабинеты ролей: отдельные кабинеты для сотрудников и кабинеты клиента.
- Аудит: журнал изменений SKU и журнал действий по заявкам.

## Модули
- `sku` — номенклатура (SKU, штрихкоды, фото, привязки).
- `orders` — раздел заявок и вкладки.
- `todo` — задачи (постановщик/исполнитель/наблюдатель, комментарии, вложения).
- `client_cabinet` — кабинет клиента, список клиентов, формы и действия по клиентам.
- `employees` — роли сотрудников и их кабинеты.
- `audit` — аудит действий по SKU и заявкам.

## Полезные страницы
- `/orders/` — заявки (журнал, приемка, обработка, отгрузка, прочее).
- `/todo/` — задачи.
- `/client/` — клиенты.
- `/sku/` — номенклатура.
- `/audit/` и `/audit/orders/` — журнал SKU и заявок.
- `/login-menu/` — dev-вход.
- `/head-manager/` — кабинет главного менеджера.

## Локальный запуск
1. Создать и активировать виртуальное окружение.
2. Установить зависимости:
   ```bash
   pip install -r requirements.txt
   ```
3. Задать переменные окружения (см. ниже).
4. Применить миграции:
   ```bash
   python fullbox/manage.py migrate
   ```
5. Запустить сервер:
   ```bash
   python fullbox/manage.py runserver
   ```

## Переменные окружения
Минимальный набор:
```
SECRET_KEY=...
DEBUG=0
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1
DB_NAME=fullbox
DB_USER=fullbox
DB_PASSWORD=...
DB_HOST=127.0.0.1
DB_PORT=5432
```

## Медиа
Файлы (вложения задач и документы заявок) сохраняются в `MEDIA_ROOT` и отдаются через `MEDIA_URL`. Для продакшена требуется настройка nginx на `/media/`.

## Деплой
Подробная инструкция: `DEPLOY.md`.
